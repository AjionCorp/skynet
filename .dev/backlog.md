# Backlog

<!-- Priority: top = highest. Format: - [ ] [TAG] Task title — description -->
<!-- Markers: [ ] = pending, [>] = claimed by worker, [x] = done -->
- [ ] [INFRA] Run one deterministic failed-task compaction pass after active claims settle — add a one-shot helper in `scripts/watchdog.sh` (or sourced helper) to collapse duplicate `pending|superseded` rows by normalized root+branch in `.dev/failed-tasks.md`, keep one canonical active row, and emit before/after counters via `emit_event`. Mission: Criterion #2 self-correction throughput and Criterion #3 convergent state.
- [ ] [FIX] Close blocked Codex prompt root with exact repro+guard test — use `.dev/blockers.md` repro to patch `scripts/agents/codex.sh` so stdin-first prompt delivery and child exit-code propagation are both preserved through `_agent_exec`, then add/update shell regression for >300KB prompt payloads and run `pnpm typecheck`. Mission: Criterion #6 multi-agent compatibility and Criterion #2 retry-loop closure.
- [ ] [FIX] Close blocked config parity root for one-shot/watchdog knobs — align `templates/skynet.config.sh` and `packages/cli/src/commands/config.ts` so `SKYNET_WATCHDOG_INTERVAL`, `SKYNET_ONE_SHOT`, and `SKYNET_ONE_SHOT_TASK` defaults/descriptions match exactly, add/update config command coverage, and keep `pnpm typecheck` green. Mission: Criterion #1 adoption safety and Criterion #3 deterministic config behavior.
- [ ] [TEST] Close blocked CLI operational E2E root in one canonical test update — in `tests/e2e/cli-commands.test.sh`, stabilize assertions for `stop`, `pause/resume`, `completions bash`, and `validate` against current CLI output, then verify with `pnpm typecheck`. Mission: Criterion #2 quality gates and Criterion #1 safe adoption.
- [ ] [FIX] Close blocked pipeline-logs optimization root with response-shape parity — in `packages/dashboard/src/handlers/pipeline-logs.ts` and related tests, keep buffer-based newline counting while preserving exact empty-file and no-trailing-newline response behavior and passing `pnpm typecheck`. Mission: Criterion #3 runtime efficiency and Criterion #2 reliable gates.
- [ ] [FIX] Close blocked backlog-parser DRY root without parser behavior drift — centralize `extractTitle()` and `parseBlockedBy()` in `packages/dashboard/src/lib/backlog-parser.ts`, update `pipeline-status.ts` and `tasks.ts` imports, and add/adjust parity tests for blocked dependency parsing with `pnpm typecheck` green. Mission: Criterion #3 maintainability and Criterion #2 retry-loop reduction.
- [ ] [INFRA] Prevent future duplicate retry variants at source in project-driver output filtering — hard-fail generation of new unchecked tasks whose normalized title matches any active/blocked canonical root in `.dev/failed-tasks.md`, log skipped roots, and keep unchecked backlog capped under 15 in `scripts/project-driver.sh`. Mission: Criterion #3 convergent planning and Criterion #2 self-correction stability.
- [ ] [NMI] Refresh blockers Active immediately after canonical blocked-root fixes merge — regenerate `.dev/blockers.md` Active from `.dev/failed-tasks.md` (`status=blocked`, `attempts>=3`) with latest exact `pnpm typecheck` diagnostics and explicit pass conditions, removing resolved roots in the same run. Mission: Criterion #2 self-correction closure.

