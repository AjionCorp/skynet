# Completed Tasks

| Date | Task | Branch | Notes |
|------|------|--------|-------|
| 2026-02-19 | [INFRA] Add cron support alongside launchd — detect OS in packages/cli/src/commands/setup-agents.ts, generate crontab entries for Linux systems (watchdog every 3min, health-check daily, auth-refresh hourly), add `--cron` flag | merged to main | success |
| 2026-02-19 | [FEAT] Add task dependency tracking — extend backlog.md syntax to support `blockedBy: task-title` metadata, update claim_next_task() in dev-worker.sh to skip tasks whose dependencies are not yet completed, add dependency visualization to dashboard tasks page | merged to main | success |
| 2026-02-19 | [FEAT] Add `skynet start` and `skynet stop` CLI commands — in packages/cli/src/commands/, `start` launches watchdog.sh as a background process (or loads launchd agents if installed), `stop` kills running workers gracefully via their PID lock files, register both in packages/cli/src/index.ts | merged to main | fixed (attempt 1) |
| 2026-02-19 | [FEAT] Add real-time pipeline dashboard via Server-Sent Events — create /api/admin/pipeline/stream route that watches .dev/ files for changes using fs.watch and streams status updates, update packages/admin/src/app/admin/pipeline/page.tsx to consume SSE instead of polling | merged to main | success |
| 2026-02-19 | [FEAT] Add configurable quality gates via skynet.config.sh — replace hardcoded typecheck+playwright gates in dev-worker.sh (lines ~140-180) and task-fixer.sh (lines ~165-220) with a SKYNET_GATES array. Add SKYNET_GATE_1="pnpm typecheck" etc. to skynet.config.sh. Loop through defined gates in both scripts. Default: just typecheck. This makes the pipeline generic for any project's CI needs | merged to main | success |
| 2026-02-19 | [FEAT] Add `skynet status` CLI command — create packages/cli/src/commands/status.ts that reads .dev/backlog.md, completed.md, failed-tasks.md, current-task.md, and worker PID lock files. Display: task counts by state, current task name+duration, worker PIDs and status, last activity timestamp, recent completions. Register in packages/cli/src/index.ts | merged to main | success |
| 2026-02-19 | [FEAT] Add worker heartbeat and stale detection — workers write a timestamp to .dev/worker-N.heartbeat every 60s during task execution (add periodic write in dev-worker.sh main implementation loop). watchdog.sh checks heartbeats on each run: if any heartbeat is older than SKYNET_STALE_MINUTES, kill the worker, unclaim its task in backlog.md, remove the worktree, reset current-task-N.md to idle | merged to main | success |
| 2026-02-19 | [FEAT] Add agent plugin system for LLM-agnostic workers — extract Claude Code and Codex CLI invocation from scripts/_config.sh run_agent() into separate plugins at scripts/agents/claude.sh and scripts/agents/codex.sh. Define standard interface: run_agent "prompt" "logfile" returns exit code. Add SKYNET_AGENT_PLUGIN config to skynet.config.sh. Allow custom agent scripts via file path | merged to main | success |
| 2026-02-19 | [FEAT] Lets improve Pipeline and Monitoring for admin — some things are either dated or missing | merged to main | success |
| 2026-02-19 | [INFRA] Lets have an ability to add more workers to different areas from the admin dynamically, say i want to increase the tester or fixer capacity or which ever i should be able to | merged to main | success |
| 2026-02-19 | [INFRA] Add shellcheck linting for all shell scripts — add shellcheck as a dev dependency or document it as required tool, create `pnpm lint:sh` script that runs shellcheck on all scripts/*.sh files, fix reported issues (unquoted vars, missing error handling), integrate into the CI workflow | merged to main | success |
| 2026-02-19 | [FEAT] Add crash recovery to watchdog — detect zombie lock files older than SKYNET_STALE_MINUTES, recover from partial task states (unclaim stuck tasks in backlog.md), kill orphan worktree processes, and restart failed workers automatically | merged to main | fixed (attempt 2) |
| 2026-02-19 | [FIX] Add PID lock to health-check.sh to prevent concurrent instances — health-check.sh has no PID lock, so overlapping launchd/cron runs could invoke Claude simultaneously. Add `LOCK_FILE="$SCRIPTS_DIR/health-check.lock"`, acquire via `mkdir "$LOCK_FILE"` at script start with stale detection (same pattern as dev-worker.sh lines ~50-70), release in an EXIT trap. This aligns with the robustness standard set by dev-worker.sh and task-fixer.sh | merged to main | success |
